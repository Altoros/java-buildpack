<jmxtrans-agent>
  <queries>
    <!-- OS -->
    <query objectName="java.lang:type=OperatingSystem" attribute="SystemLoadAverage"
           resultAlias="os.systemLoadAverage"/>

    <!-- JVM -->
    <query objectName="java.lang:type=Memory" attribute="HeapMemoryUsage" key="used"
           resultAlias="jvm.heapMemoryUsage.used"/>
    <query objectName="java.lang:type=Memory" attribute="HeapMemoryUsage" key="committed"
           resultAlias="jvm.heapMemoryUsage.committed"/>
    <query objectName="java.lang:type=Memory" attribute="NonHeapMemoryUsage" key="used"
           resultAlias="jvm.nonHeapMemoryUsage.used"/>
    <query objectName="java.lang:type=Memory" attribute="NonHeapMemoryUsage" key="committed"
           resultAlias="jvm.nonHeapMemoryUsage.committed"/>
    <query objectName="java.lang:type=ClassLoading" attribute="LoadedClassCount" resultAlias="jvm.loadedClasses"/>

    <query objectName="java.lang:type=Threading" attribute="ThreadCount" resultAlias="jvm.thread"/>
  </queries>
  <outputWriter class="org.jmxtrans.agent.GraphitePlainTextTcpOutputWriter">
    <host><%= host %></host>
    <port><%= port %></port>
    <namePrefix><%= namePrefix %></namePrefix>
  </outputWriter>
  <outputWriter class="org.jmxtrans.agent.ConsoleOutputWriter">
    <enabled>false</enabled>
  </outputWriter>
  <outputWriter class="org.jmxtrans.agent.RollingFileOutputWriter">
    <fileName>rollingJMXOutputFile</fileName>
    <maxFileSize>10</maxFileSize>
    <maxBackupIndex>4</maxBackupIndex>
  </outputWriter>
</jmxtrans-agent>
